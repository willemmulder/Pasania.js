<!DOCTYPE html>
<html>
	<head>
		<style>
			body { background: #888; }

			.container { 
				margin: auto; margin-top: 40px; width: 600px; box-shadow: 0px 0px 10px #333;
				background: #eee;
				font: 14px arial, verdana, sans-serif;
				position: relative;
			}

			h1, h2 { font-size: 40px; padding: 30px; color: #44b; margin: 0px; }
			h2 { font-size: 20px; }
			p { clear: both; background: #44b; padding: 30px; margin: 0px; color: #fff; }

		</style>
		<script src="js/jquery-1.9.0.min.js"></script>
		<script>
			$(function() {
				$.fn.pasanha = function(options) {
					var defaultOptions = {
						background : null,
						strength : "0.3",
						type : "inset"
					};
					options = $.extend(defaultOptions, options);
					var elements = $(this);
					elements.each(function() {
						var element = $(this);
						var randomNamespace = "jquery-pasanha-" + new Date().getTime() + "-" + Math.round(Math.random()*1000);
						// Calculate background color
						var background = options.background;
						if (!background) {
							background = element.css("background-color");
						}
						var position = element.css("position");
						if (position !== "absolute" && position !== "fixed" || position !== "relative") {
							position = "relative";
						}
						var cssclass  = "."+randomNamespace+" { position: "+position+" }";
						cssclass += " ."+randomNamespace+":before, ."+randomNamespace+":after { content: attr(pasanhatext); padding: 30px; position: absolute; color:"+background+"; opacity: "+ options.strength +"; }";
						var offset1 = (options.type==="inset"?"-1px":"1px");
						var offset2 = (options.type==="inset"?"-2px":"2px");
						cssclass += " ."+randomNamespace+":before { top: "+offset1+"; left: "+offset1+"; }";
						cssclass += " ."+randomNamespace+":after { top: "+offset2+"; left: "+offset2+"; }";
						var $style = $("<style>").html(cssclass);
						$("body").append($style);
						element.attr("pasanhatext", element.html()).addClass(randomNamespace);
					});
				}

				$("h1").pasanha({background:"#eee", strength:"0.1"});
			});
		</script>
	</head>
	<body>
		<div class='container'>
			<h1>Pasanha</h1>
			<p>Pasanh will make your headings, menu's, paragraphs and other text look super smooth and totally awesome. Really? For sure, try for yourself!</p>
			<h2>Why the name?</h2>
			<p>Well... why not?</p>
		</div>
		<script>
			// Analytics
		</script>
	</body>
</html>